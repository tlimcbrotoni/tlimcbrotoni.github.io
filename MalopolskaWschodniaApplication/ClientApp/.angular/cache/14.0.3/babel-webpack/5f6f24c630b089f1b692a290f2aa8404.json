{"ast":null,"code":"import { FormControl } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"./components/services/auth.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"./components/services/user.service\";\nimport * as i5 from \"@angular/common\";\n\nfunction AppComponent_div_98_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 48)(1, \"div\", 49)(2, \"a\", 50);\n    i0.ɵɵlistener(\"click\", function AppComponent_div_98_Template_a_click_2_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.login_show());\n    });\n    i0.ɵɵelementStart(3, \"div\", 51)(4, \"div\", 52)(5, \"span\", 53);\n    i0.ɵɵtext(6, \"Zaloguj si\\u0119\");\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(7, \"div\", 54)(8, \"a\", 50);\n    i0.ɵɵlistener(\"click\", function AppComponent_div_98_Template_a_click_8_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.register_show());\n    });\n    i0.ɵɵelementStart(9, \"div\", 51)(10, \"div\", 55)(11, \"span\", 53);\n    i0.ɵɵtext(12, \"Zarejestruj si\\u0119\");\n    i0.ɵɵelementEnd()()()()()();\n  }\n}\n\nfunction AppComponent_ng_template_99_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"a\", 50);\n    i0.ɵɵlistener(\"click\", function AppComponent_ng_template_99_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.logout());\n    });\n    i0.ɵɵelementStart(1, \"div\", 56)(2, \"div\", 55)(3, \"span\", 53);\n    i0.ɵɵtext(4, \"Wyloguj si\\u0119\");\n    i0.ɵɵelementEnd()()()();\n  }\n}\n\nexport let AppComponent = /*#__PURE__*/(() => {\n  class AppComponent {\n    constructor(formBuilder, authService, router, userService) {\n      this.formBuilder = formBuilder;\n      this.authService = authService;\n      this.router = router;\n      this.userService = userService;\n      this.title = 'Application';\n      this.boolToken = false;\n    }\n\n    login_show() {\n      document.getElementById('login').style.display = \"block\";\n    }\n\n    login_hide() {\n      document.getElementById('login').style.display = \"none\";\n    }\n\n    register_show() {\n      document.getElementById('register').style.display = \"block\";\n    }\n\n    register_hide() {\n      document.getElementById('register').style.display = \"none\";\n    }\n\n    ngOnInit() {\n      this.registerForm = this.formBuilder.group({\n        FirstName: new FormControl(''),\n        LastName: new FormControl(''),\n        Username: new FormControl(''),\n        Email: new FormControl(''),\n        Password: new FormControl('')\n      });\n      this.loginForm = this.formBuilder.group({\n        Username: new FormControl(''),\n        Password: new FormControl('')\n      });\n\n      if (localStorage.getItem('token') != null) {\n        this.router.navigateByUrl('/');\n        this.boolToken = true;\n      }\n\n      this.authService.getMe().subscribe(name => {\n        this.userId = name;\n      });\n    }\n\n    register() {\n      console.log(this.registerForm.value);\n      this.authService.register(this.registerForm.value).subscribe({\n        next: v => {\n          window.location.reload();\n        },\n        error: e => {\n          this.registerForm.reset();\n        }\n      });\n    }\n\n    login() {\n      console.log(this.loginForm.value);\n      this.authService.login(this.loginForm.value).subscribe(res => {\n        localStorage.setItem('token', res.token);\n        window.location.reload();\n      }, err => {\n        console.log(err);\n      });\n    }\n\n    logout() {\n      localStorage.removeItem(\"token\");\n      window.location.reload();\n    }\n\n  }\n\n  AppComponent.ɵfac = function AppComponent_Factory(t) {\n    return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.UserService));\n  };\n\n  AppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppComponent,\n    selectors: [[\"app-root\"]],\n    decls: 115,\n    vars: 4,\n    consts: [[\"rel\", \"icon\", \"type\", \"image/x-icon\", \"href\", \"favicon.ico\"], [\"rel\", \"shortcut icon\", \"href\", \"favicon.ico\"], [\"id\", \"login\", 2, \"display\", \"none\"], [1, \"position-fixed\", \"d-flex\", \"align-items-center\", \"justify-content-center\", 2, \"width\", \"100%\", \"height\", \"100%\", \"z-index\", \"15\", \"background-color\", \"rgba(0,0,0,.5)\"], [1, \"row\", \"g-0\", \"border\", \"rounded\", \"position-fixed\", \"mt-3\", \"shadow-sm\", \"bg-white\", \"col-sm-3\", \"mx-auto\", 2, \"z-index\", \"20\"], [1, \"text-end\", \"pe-4\", \"pt-2\"], [2, \"cursor\", \"pointer\", 3, \"click\"], [1, \"p-5\"], [1, \"text-lg-center\"], [3, \"formGroup\", \"ngSubmit\"], [\"formControlName\", \"Username\", \"pattern\", \"[A-Za-z\\u017C\\u017A\\u0107\\u0144\\u00F3\\u0142\\u0119\\u0105\\u015B\\u017B\\u0179\\u0106\\u0104\\u015A\\u0118\\u0141\\u00D3\\u0143 ]*\", \"type\", \"text\", \"id\", \"InputUsername\", \"placeholder\", \"Nazwa u\\u017Cytkownika lub email\", 1, \"form-control\", \"mt-5\", \"mx-auto\"], [\"formControlName\", \"Password\", \"pattern\", \"[A-Za-z\\u017C\\u017A\\u0107\\u0144\\u00F3\\u0142\\u0119\\u0105\\u015B\\u017B\\u0179\\u0106\\u0104\\u015A\\u0118\\u0141\\u00D3\\u0143 ]*\", \"type\", \"password\", \"id\", \"InputPassword\", \"placeholder\", \"Has\\u0142o\", 1, \"form-control\", \"mt-4\", \"mx-auto\"], [1, \"mt-4\", \"w-100\"], [\"type\", \"checkbox\", \"value\", \"remember-me\"], [1, \"text-end\", \"float-end\"], [1, \"w-100\", \"mt-4\", \"text-center\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"text-white\"], [\"id\", \"register\", 2, \"display\", \"none\"], [\"formControlName\", \"FirstName\", \"pattern\", \"[A-Za-z\\u017C\\u017A\\u0107\\u0144\\u00F3\\u0142\\u0119\\u0105\\u015B\\u017B\\u0179\\u0106\\u0104\\u015A\\u0118\\u0141\\u00D3\\u0143 ]*\", \"type\", \"text\", \"id\", \"InputName\", \"placeholder\", \"Imi\\u0119\", 1, \"form-control\", \"mt-5\", \"mx-auto\"], [\"formControlName\", \"LastName\", \"pattern\", \"[A-Za-z\\u017C\\u017A\\u0107\\u0144\\u00F3\\u0142\\u0119\\u0105\\u015B\\u017B\\u0179\\u0106\\u0104\\u015A\\u0118\\u0141\\u00D3\\u0143 ]*\", \"type\", \"text\", \"id\", \"InputSurname\", \"placeholder\", \"Nazwisko\", 1, \"form-control\", \"mt-4\", \"mx-auto\"], [\"formControlName\", \"Username\", \"pattern\", \"[A-Za-z\\u017C\\u017A\\u0107\\u0144\\u00F3\\u0142\\u0119\\u0105\\u015B\\u017B\\u0179\\u0106\\u0104\\u015A\\u0118\\u0141\\u00D3\\u0143 ]*\", \"type\", \"text\", \"id\", \"InputUsernameR\", \"placeholder\", \"Nazwa u\\u017Cytkownika\", 1, \"form-control\", \"mt-4\", \"mx-auto\"], [\"formControlName\", \"Email\", \"pattern\", \"[A-Za-z\\u017C\\u017A\\u0107\\u0144\\u00F3\\u0142\\u0119\\u0105\\u015B\\u017B\\u0179\\u0106\\u0104\\u015A\\u0118\\u0141\\u00D3\\u0143 ]*\", \"type\", \"text\", \"id\", \"InputEmail\", \"placeholder\", \"Email\", 1, \"form-control\", \"mt-4\", \"mx-auto\"], [\"formControlName\", \"Password\", \"pattern\", \"[A-Za-z\\u017C\\u017A\\u0107\\u0144\\u00F3\\u0142\\u0119\\u0105\\u015B\\u017B\\u0179\\u0106\\u0104\\u015A\\u0118\\u0141\\u00D3\\u0143 ]*\", \"type\", \"password\", \"id\", \"InputPasswordR\", \"placeholder\", \"Has\\u0142o\", 1, \"form-control\", \"mt-4\", \"mx-auto\"], [\"pattern\", \"[A-Za-z\\u017C\\u017A\\u0107\\u0144\\u00F3\\u0142\\u0119\\u0105\\u015B\\u017B\\u0179\\u0106\\u0104\\u015A\\u0118\\u0141\\u00D3\\u0143 ]*\", \"type\", \"password\", \"id\", \"InputRePassword\", \"placeholder\", \"Powt\\u00F3rz has\\u0142o\", 1, \"form-control\", \"mt-4\", \"mx-auto\"], [1, \"navbar\", \"navbar-expand-md\", \"navbar-light\", \"bg-white\"], [1, \"container\"], [\"routerLink\", \"\", 1, \"navbar-brand\"], [\"src\", \"./assets/logo-no-background.svg\", \"width\", \"225\", \"height\", \"50\"], [\"type\", \"button\", \"data-bs-toggle\", \"collapse\", \"data-bs-target\", \"#navbarCollapse\", \"aria-controls\", \"navbarCollapse\", \"aria-expanded\", \"false\", \"aria-label\", \"Toggle navigation\", 1, \"navbar-toggler\"], [1, \"navbar-toggler-icon\"], [\"id\", \"navbarCollapse\", 1, \"collapse\", \"navbar-collapse\"], [1, \"navbar-nav\", \"me-auto\", \"mb-2\", \"mb-md-0\"], [1, \"nav-item\"], [\"routerLink\", \"\", 1, \"nav-link\"], [1, \"nav-item\", \"dropdown\"], [\"href\", \"#\", \"role\", \"button\", \"data-bs-toggle\", \"dropdown\", \"aria-expanded\", \"false\", 1, \"nav-link\", \"dropdown-toggle\"], [1, \"dropdown-menu\"], [\"routerLink\", \"turystyka\", 1, \"dropdown-item\"], [1, \"dropdown-divider\"], [\"href\", \"#\", 1, \"dropdown-item\"], [\"class\", \"flex-row row-cols-lg-auto ms-2\", 4, \"ngIf\", \"ngIfElse\"], [\"elseBlock\", \"\"], [1, \"py-3\", \"my-4\"], [1, \"nav\", \"justify-content-center\", \"border-bottom\", \"pb-3\", \"mb-3\"], [\"routerLink\", \"\", 1, \"nav-link\", \"px-2\", \"text-muted\"], [\"routerLink\", \"turystyka\", 1, \"nav-link\", \"px-2\", \"text-muted\"], [\"href\", \"#\", 1, \"nav-link\", \"px-2\", \"text-muted\"], [1, \"text-center\", \"text-muted\"], [1, \"flex-row\", \"row-cols-lg-auto\", \"ms-2\"], [1, \"col-6\", \"float-start\"], [1, \"text-decoration-none\", \"bialy\", 3, \"click\"], [1, \"border\", \"rounded\", \"shadow-sm\", \"btn-primary\", \"bg-white\"], [1, \"p-2\", \"px-3\", \"text-center\", \"text-primary\", \"w-100\", \"h-100\", \"btn\"], [1, \"bialy\"], [1, \"col-6\", \"float-end\", \"ms-3\"], [1, \"p-2\", \"text-center\", \"text-primary\", \"w-100\", \"h-100\", \"btn\"], [1, \"row\", \"g-0\", \"border\", \"rounded\", \"overflow-hidden\", \"flex-md-row\", \"shadow-sm\", \"h-md-250\", \"position-relative\", \"btn-primary\", \"bg-white\"]],\n    template: function AppComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"link\", 0)(1, \"link\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5)(6, \"span\", 6);\n        i0.ɵɵlistener(\"click\", function AppComponent_Template_span_click_6_listener() {\n          return ctx.login_hide();\n        });\n        i0.ɵɵtext(7, \"X\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(8, \"div\", 7)(9, \"h4\", 8);\n        i0.ɵɵtext(10, \"Zaloguj si\\u0119\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"form\", 9);\n        i0.ɵɵlistener(\"ngSubmit\", function AppComponent_Template_form_ngSubmit_11_listener() {\n          return ctx.login();\n        });\n        i0.ɵɵelement(12, \"input\", 10)(13, \"input\", 11);\n        i0.ɵɵelementStart(14, \"div\", 12);\n        i0.ɵɵelement(15, \"input\", 13);\n        i0.ɵɵtext(16, \" Zapami\\u0119taj mnie \");\n        i0.ɵɵelementStart(17, \"a\", 14);\n        i0.ɵɵtext(18, \"Przypomnij has\\u0142o\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(19, \"div\", 15)(20, \"button\", 16);\n        i0.ɵɵtext(21, \"Zaloguj si\\u0119\");\n        i0.ɵɵelementEnd()()()()()()();\n        i0.ɵɵelementStart(22, \"div\", 17)(23, \"div\", 3)(24, \"div\", 4)(25, \"div\", 5)(26, \"span\", 6);\n        i0.ɵɵlistener(\"click\", function AppComponent_Template_span_click_26_listener() {\n          return ctx.register_hide();\n        });\n        i0.ɵɵtext(27, \"X\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(28, \"div\", 7)(29, \"h4\", 8);\n        i0.ɵɵtext(30, \"Zarejestruj si\\u0119\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"form\", 9);\n        i0.ɵɵlistener(\"ngSubmit\", function AppComponent_Template_form_ngSubmit_31_listener() {\n          return ctx.register();\n        });\n        i0.ɵɵelement(32, \"input\", 18)(33, \"input\", 19)(34, \"input\", 20)(35, \"input\", 21)(36, \"input\", 22)(37, \"input\", 23);\n        i0.ɵɵelementStart(38, \"div\", 12);\n        i0.ɵɵelement(39, \"input\", 13);\n        i0.ɵɵtext(40, \" Zapami\\u0119taj mnie \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(41, \"div\", 15)(42, \"button\", 16);\n        i0.ɵɵtext(43, \"Zarejestruj si\\u0119\");\n        i0.ɵɵelementEnd()()()()()()();\n        i0.ɵɵelementStart(44, \"header\")(45, \"nav\", 24)(46, \"div\", 25)(47, \"a\", 26);\n        i0.ɵɵelement(48, \"img\", 27);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(49, \"button\", 28);\n        i0.ɵɵelement(50, \"span\", 29);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(51, \"div\", 30)(52, \"ul\", 31)(53, \"li\", 32)(54, \"a\", 33);\n        i0.ɵɵtext(55, \"Strona g\\u0142\\u00F3wna\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(56, \"li\", 34)(57, \"a\", 35);\n        i0.ɵɵtext(58, \" Artyku\\u0142y \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(59, \"ul\", 36)(60, \"li\")(61, \"a\", 37);\n        i0.ɵɵtext(62, \"Wszystkie artyku\\u0142y\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(63, \"li\");\n        i0.ɵɵelement(64, \"hr\", 38);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(65, \"li\")(66, \"a\", 39);\n        i0.ɵɵtext(67, \"Krajobrazy\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(68, \"li\")(69, \"a\", 39);\n        i0.ɵɵtext(70, \"Turystyka\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(71, \"li\")(72, \"a\", 39);\n        i0.ɵɵtext(73, \"Punkty widokowe\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(74, \"li\")(75, \"a\", 39);\n        i0.ɵɵtext(76, \"Zabytki\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(77, \"li\")(78, \"a\", 39);\n        i0.ɵɵtext(79, \"Szczyty g\\u00F3rskie\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(80, \"li\", 34)(81, \"a\", 35);\n        i0.ɵɵtext(82, \" Noclegi \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(83, \"ul\", 36)(84, \"li\")(85, \"a\", 39);\n        i0.ɵɵtext(86, \"Wszystkie noclegi\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(87, \"li\");\n        i0.ɵɵelement(88, \"hr\", 38);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(89, \"li\")(90, \"a\", 39);\n        i0.ɵɵtext(91, \"Hotele\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(92, \"li\")(93, \"a\", 39);\n        i0.ɵɵtext(94, \"Hostele\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(95, \"li\")(96, \"a\", 39);\n        i0.ɵɵtext(97, \"Motele\");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵtemplate(98, AppComponent_div_98_Template, 13, 0, \"div\", 40);\n        i0.ɵɵtemplate(99, AppComponent_ng_template_99_Template, 5, 0, \"ng-template\", null, 41, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelement(101, \"router-outlet\");\n        i0.ɵɵelementStart(102, \"footer\", 42)(103, \"ul\", 43)(104, \"li\", 32)(105, \"a\", 44);\n        i0.ɵɵtext(106, \"Strona g\\u0142\\u00F3wna\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(107, \"li\", 32)(108, \"a\", 45);\n        i0.ɵɵtext(109, \"Artyku\\u0142y\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(110, \"li\", 32)(111, \"a\", 46);\n        i0.ɵɵtext(112, \"Noclegi\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(113, \"p\", 47);\n        i0.ɵɵtext(114, \"\\u00A9 2022 Ma\\u0142opolska Wschodnia\");\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        const _r1 = i0.ɵɵreference(100);\n\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n        i0.ɵɵadvance(20);\n        i0.ɵɵproperty(\"formGroup\", ctx.registerForm);\n        i0.ɵɵadvance(67);\n        i0.ɵɵproperty(\"ngIf\", !ctx.boolToken)(\"ngIfElse\", _r1);\n      }\n    },\n    dependencies: [i5.NgIf, i3.RouterOutlet, i3.RouterLinkWithHref, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.PatternValidator, i1.FormGroupDirective, i1.FormControlName],\n    styles: [\".bialy[_ngcontent-%COMP%]:hover{color:#fff}\"]\n  });\n  return AppComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}